!function(){"use strict";angular.module("alAngularHeroRamjet",["ngAnimate"]).animation(".hero-transition",[function(){var e,t,n,o,r,u=function(e,o){return t=e,n.push(o),a()},i=function(t,o){return e=t,n.push(o),t.addClass("hero-leave"),a()},a=function(){if(e&&t){o&&clearTimeout(o),setTimeout(f);var n=!1;return function(){n||(n=!0,m())}}return o=setTimeout(function(){l(!0)}),null},f=function(){for(var n=e[0].getElementsByClassName("hero"),o=t[0].getElementsByClassName("hero"),r=[],u=0;u<n.length;u++)for(var i=0;i<o.length;i++)n[u].getAttribute("hero-id")===o[i].getAttribute("hero-id")&&r.push({from:n[u],to:o[i]});r.forEach(function(e){c(e.from,e.to)}),l()},c=function(e,t){ramjet.hide(e),ramjet.hide(t);var n={complete:!1,onComplete:function(){n.complete=!0,l()},remove:function(){ramjet.show(e),ramjet.show(t)}};r.push(n),ramjet.transform(e,t,{done:n.onComplete})},l=function(e){var t=!0;if(e||r.forEach(function(e){t=t&&e.complete}),t){var o=n.slice(0);o.forEach(function(e){e()}),m()}},m=function(){e=null,t=null,n=[],r&&r.forEach(function(e){e.remove()}),r=[]};return m(),{enter:function(e,t){return u(e,t)},leave:function(e,t){return i(e,t)}}}])}();